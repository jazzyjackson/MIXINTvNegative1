Just a thought
to take from the design patterns of chatscript
which is template matching with wordnet and some impressive memory management

a pattern is an array of regexes to try in order...
maybe with some way of expanding topics into regexes
so ...food would return every kind of food as a set

and maybe set comparisons are fast